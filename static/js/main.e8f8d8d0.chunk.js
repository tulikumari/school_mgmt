(this["webpackJsonpapp-login"]=this["webpackJsonpapp-login"]||[]).push([[0],{130:function(e,t,n){e.exports=n(308)},307:function(e,t,n){},308:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(14),o=n.n(r),i=n(15),s=n(16),c=n(18),u=n(17),p=(n(55),n(10)),m=n.n(p),h=n(12),d=n.n(h),g=n(43),f=n.n(g),E=n(13),v=n.n(E),C=n(123),b=n.n(C),y=n(30),k=n.n(y),S=n(54),x=n.n(S),w=n(124),T=n.n(w),P=n(35),L=n.n(P),O=n(25),j=n(129),R=n(120),B=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={role:"student",filesPreview:[],filesToBeSent:[],draweropen:!1,printcount:10,printingmessage:"",printButtonDisabled:!1},a}return Object(s.a)(n,[{key:"componentWillMount",value:function(){var e;this.props.role&&("student"==this.props.role?e=5:"teacher"==this.props.role&&(e=10)),this.setState({printcount:e,role:this.props.role})}},{key:"handleCloseClick",value:function(e,t){var n=this,a=this.state.filesToBeSent;a.splice(t,1);var r=[];for(var o in a)r.push(l.a.createElement("div",null,a[o][0].name,l.a.createElement(m.a,null,l.a.createElement("a",{href:"#"},l.a.createElement(L.a,{className:"material-icons customstyle",color:O.blue500,onClick:function(e){return n.handleCloseClick(e,o)}},"clear")))));this.setState({filesToBeSent:a,filesPreview:r})}},{key:"onDrop",value:function(e,t){var n=this,a=this.state.filesToBeSent;if(a.length<this.state.printcount){a.push(e);var r=[];for(var o in a)r.push(l.a.createElement("div",null,a[o][0].name,l.a.createElement(m.a,null,l.a.createElement("a",{href:"#"},l.a.createElement(L.a,{className:"material-icons customstyle",color:O.blue500,styles:{top:10},onClick:function(e){return n.handleCloseClick(e,o)}},"clear")))));this.setState({filesToBeSent:a,filesPreview:r})}else alert("You have reached the limit of printing files at a time")}},{key:"handleClick",value:function(e){this.setState({printingmessage:"Please wait until your files are being printed",printButtonDisabled:!0});var t=this;if(this.state.filesToBeSent.length>0){var n=this.state.filesToBeSent,a=R.post("http://localhost:4000/api/fileprint");for(var l in n)a.attach(n[l][0].name,n[l][0]);a.end((function(e,n){e&&console.log("error ocurred"),console.log("res",n),t.setState({printingmessage:"",printButtonDisabled:!1,filesToBeSent:[],filesPreview:[]}),alert("File printing completed")}))}else alert("Please upload some files first")}},{key:"toggleDrawer",value:function(e){this.setState({draweropen:!this.state.draweropen})}},{key:"handleDivClick",value:function(e){this.state.draweropen&&this.setState({draweropen:!1})}},{key:"handleLogout",value:function(e){var t=[];t.push(l.a.createElement(te,{appContext:this.props.appContext})),this.props.appContext.setState({loginPage:t,uploadScreen:[]})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement("div",{onClick:function(t){return e.handleDivClick(t)}},l.a.createElement("center",null,l.a.createElement("div",null,"You can print upto ",this.state.printcount," files at a time since you are ",this.state.role),l.a.createElement(j.a,{onDrop:function(t){return e.onDrop(t)}},l.a.createElement("div",null,"Try dropping some files here, or click to select files to upload.")),l.a.createElement("div",null,"Files to be printed are:",this.state.filesPreview)),l.a.createElement("div",null,this.state.printingmessage),l.a.createElement(m.a,null,l.a.createElement(d.a,{disabled:this.state.printButtonDisabled,label:"Print Files",primary:!0,style:N,onClick:function(t){return e.handleClick(t)}}))))}}]),n}(a.Component),N={margin:15},D=B,M=n(77),I=n(76),F=n.n(I),_=n(126),W=n.n(_),A=(n(301),n(127)),V=n.n(A),U=(n(302),n(128)),G=n.n(U),J=n(120),Y=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={role:"student",filesPreview:[],previousfilesList:[],filesToBePrinted:[]},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;J.get("http://localhost:4000/api/fileretrieve").end((function(t,n){if(t)console.log("some error ");else if("200"==n.body.code){var a=n.body.result,r=[];for(var o in a)r.push(l.a.createElement(M.ListItem,{rightAvatar:l.a.createElement(W.a,{icon:l.a.createElement(V.a,null),backgroundColor:O.blue500}),primaryText:a[o].name,leftCheckbox:l.a.createElement(G.a,{value:a[o].name,onCheck:function(t,n){return e.handleFileCheck(t,n)}})}));var i=[];i.push(l.a.createElement("div",{className:"previousfilesContainer"},l.a.createElement(m.a,null,l.a.createElement(M.List,null,l.a.createElement(F.a,{inset:!0},"Files"),r)),l.a.createElement(m.a,null,l.a.createElement(d.a,{disabled:e.state.printButtonDisabled,label:"Print Files",primary:!0,style:q,onClick:function(t){return e.handlePreviousFilesClick(t)}})))),e.setState({filesPreview:i,previousfilesList:n.body.result})}}))}},{key:"handleFileCheck",value:function(e,t){var n=this.state.filesToBePrinted;if(t)n.push({name:e.target.value});else for(var a in n)n[a].name==e.target.value&&n.splice(a,1);console.log("somename",JSON.stringify(n)),this.setState({filesToBePrinted:n})}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},this.state.filesPreview)}}]),n}(a.Component),q={margin:15},z=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={draweropen:!1,currentScreen:[]},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=[];e.push(l.a.createElement(D,{appContext:this.props.appContext,role:this.props.role})),this.setState({currentScreen:e})}},{key:"toggleDrawer",value:function(e){this.setState({draweropen:!this.state.draweropen})}},{key:"handleMenuClick",value:function(e,t){switch(t){case"openprint":(n=[]).push(l.a.createElement(D,{appContext:this.props.appContext,role:this.props.role})),this.setState({currentScreen:n});break;case"openpast":var n;(n=[]).push(l.a.createElement(Y,{appContext:this.props.appContext,role:this.props.role})),this.setState({currentScreen:n});break;case"logout":var a=[];a.push(l.a.createElement(te,{appContext:this.props.appContext})),this.props.appContext.setState({loginPage:a,uploadScreen:[]})}this.setState({draweropen:!1})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement(m.a,null,l.a.createElement(f.a,{title:"Printing Page",onLeftIconButtonTouchTap:function(t){return e.toggleDrawer(t)}})),l.a.createElement(m.a,null,l.a.createElement(T.a,{open:this.state.draweropen},l.a.createElement(k.a,null,l.a.createElement("div",null,"User Profile",l.a.createElement("a",{href:"#"},l.a.createElement(L.a,{className:"material-icons drawerclosebutton",color:O.blue500,styles:{top:10},onClick:function(t){return e.toggleDrawer(t)}},"clear")))),l.a.createElement("div",null,l.a.createElement(k.a,{onClick:function(t){return e.handleMenuClick(t,"openprint")}},"Printing Page"),l.a.createElement(k.a,{onClick:function(t){return e.handleMenuClick(t,"openpast")}},"Past Files"),l.a.createElement(k.a,{onClick:function(t){return e.handleMenuClick(t,"logout")}},"Logout")))),l.a.createElement("div",null,this.state.currentScreen))}}]),n}(a.Component),H=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(i.a)(this,n),a=t.call(this,e);var r=[];return r.push(l.a.createElement(m.a,{key:"theme"},l.a.createElement("div",null,l.a.createElement(v.a,{hintText:"Enter your College Rollno",floatingLabelText:"Student Id",onChange:function(e,t){return a.setState({username:t})}}),l.a.createElement("br",null),l.a.createElement(v.a,{type:"password",hintText:"Enter your Password",floatingLabelText:"Password",onChange:function(e,t){return a.setState({password:t})}}),l.a.createElement("br",null),l.a.createElement(d.a,{label:"Submit",primary:!0,style:K,onClick:function(e){return a.handleClick(e)}})))),a.state={username:"",password:"",menuValue:1,loginComponent:r,loginRole:"student"},a}return Object(s.a)(n,[{key:"componentWillMount",value:function(){var e=this;if(void 0!=this.props.role)if("student"==this.props.role)console.log("in student componentWillMount"),(t=[]).push(l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement(v.a,{hintText:"Enter your College Rollno",floatingLabelText:"Student Id",onChange:function(t,n){return e.setState({username:n})}}),l.a.createElement("br",null),l.a.createElement(v.a,{type:"password",hintText:"Enter your Password",floatingLabelText:"Password",onChange:function(t,n){return e.setState({password:n})}}),l.a.createElement("br",null),l.a.createElement(d.a,{label:"Submit",primary:!0,style:K,onClick:function(t){return e.handleClick(t)}})))),this.setState({menuValue:1,loginComponent:t,loginRole:"student"});else if("teacher"==this.props.role){var t;console.log("in teacher componentWillMount"),(t=[]).push(l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement(v.a,{hintText:"Enter your College Rollno",floatingLabelText:"Teacher Id",onChange:function(t,n){return e.setState({username:n})}}),l.a.createElement("br",null),l.a.createElement(v.a,{type:"password",hintText:"Enter your Password",floatingLabelText:"Password",onChange:function(t,n){return e.setState({password:n})}}),l.a.createElement("br",null),l.a.createElement(d.a,{label:"Submit",primary:!0,style:K,onClick:function(t){return e.handleClick(t)}})))),this.setState({menuValue:2,loginComponent:t,loginRole:"teacher"})}}},{key:"handleClick",value:function(e){var t=this,n={userid:this.state.username,password:this.state.password,role:this.state.loginRole};x.a.post("http://localhost:4000/api/login",n).then((function(e){if(console.log(e),200==e.data.code){console.log("Login successfull");var n=[];n.push(l.a.createElement(z,{appContext:t.props.appContext,role:t.state.loginRole})),t.props.appContext.setState({loginPage:[],uploadScreen:n})}else 204==e.data.code?(console.log("Username password do not match"),alert(e.data.success)):(console.log("Username does not exists"),alert("Username does not exist"))})).catch((function(e){console.log(e)}))}},{key:"handleMenuChange",value:function(e){var t,n=this;if(console.log("menuvalue",e),1==e)t="student",(a=[]).push(l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement(v.a,{hintText:"Enter your College Rollno",floatingLabelText:"Student Id",onChange:function(e,t){return n.setState({username:t})}}),l.a.createElement("br",null),l.a.createElement(v.a,{type:"password",hintText:"Enter your Password",floatingLabelText:"Password",onChange:function(e,t){return n.setState({password:t})}}),l.a.createElement("br",null),l.a.createElement(d.a,{label:"Submit",primary:!0,style:K,onClick:function(e){return n.handleClick(e)}}))));else if(2==e){var a;t="teacher",(a=[]).push(l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement(v.a,{hintText:"Enter your College Rollno",floatingLabelText:"Teacher Id",onChange:function(e,t){return n.setState({username:t})}}),l.a.createElement("br",null),l.a.createElement(v.a,{type:"password",hintText:"Enter your Password",floatingLabelText:"Password",onChange:function(e,t){return n.setState({password:t})}}),l.a.createElement("br",null),l.a.createElement(d.a,{label:"Submit",primary:!0,style:K,onClick:function(e){return n.handleClick(e)}}))))}this.setState({menuValue:e,loginComponent:a,loginRole:t})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(m.a,null,l.a.createElement(f.a,{title:"Login"})),l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement("p",null,"Login as:"),l.a.createElement(b.a,{value:this.state.menuValue,onChange:function(t,n,a){return e.handleMenuChange(a)}},l.a.createElement(k.a,{value:1,primaryText:"Student"}),l.a.createElement(k.a,{value:2,primaryText:"Teacher"})))),this.state.loginComponent)}}]),n}(a.Component),K={margin:15},Q=H,X=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={first_name:"",last_name:"",email:"",password:""},a}return Object(s.a)(n,[{key:"componentWillReceiveProps",value:function(e){console.log("nextProps",e)}},{key:"handleClick",value:function(e,t){var n=this;if(this.state.first_name.length>0&&this.state.last_name.length>0&&this.state.email.length>0&&this.state.password.length>0){var a={first_name:this.state.first_name,last_name:this.state.last_name,userid:this.state.email,password:this.state.password,role:t};x.a.post("http://localhost:4000/api//register",a).then((function(e){if(console.log(e),200===e.data.code){var a=[];a.push(l.a.createElement(Q,{parentContext:this,appContext:n.props.appContext,role:t}));n.props.parentContext.setState({loginscreen:a,loginmessage:"Not Registered yet.Go to registration",buttonLabel:"Register",isLogin:!0})}else console.log("some error ocurred",e.data.code)})).catch((function(e){console.log(e)}))}else alert("Input field value is missing")}},{key:"render",value:function(){var e,t,n=this;return"student"===this.props.role?(e="Enter your Student Id",t="Student Id"):(e="Enter your Teacher Id",t="Teacher Id"),l.a.createElement("div",null,l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement(f.a,{title:"Register"}),l.a.createElement(v.a,{hintText:"Enter your First Name",floatingLabelText:"First Name",onChange:function(e,t){return n.setState({first_name:t})}}),l.a.createElement("br",null),l.a.createElement(v.a,{hintText:"Enter your Last Name",floatingLabelText:"Last Name",onChange:function(e,t){return n.setState({last_name:t})}}),l.a.createElement("br",null),l.a.createElement(v.a,{hintText:e,floatingLabelText:t,onChange:function(e,t){return n.setState({email:t})}}),l.a.createElement("br",null),l.a.createElement(v.a,{type:"password",hintText:"Enter your Password",floatingLabelText:"Password",onChange:function(e,t){return n.setState({password:t})}}),l.a.createElement("br",null),l.a.createElement(d.a,{label:"Submit",primary:!0,style:Z,onClick:function(e){return n.handleClick(e,n.props.role)}}))))}}]),n}(a.Component),Z={margin:15},$=X,ee={margin:15},te=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(i.a)(this,n),a=t.call(this,e);var r=[];return r.push(l.a.createElement("div",{key:"Login-Div"},l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement(d.a,{label:"Register as Student",primary:!0,style:ee,onClick:function(e){return a.handleClick(e,"student")}}))),l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement(d.a,{label:"Register as Teacher",primary:!0,style:ee,onClick:function(e){return a.handleClick(e,"teacher")}}))))),a.state={username:"",password:"",loginscreen:[],loginmessage:"",loginButtons:r,studentbuttonLabel:"Register as Student",teacherbuttonLabel:"Register as Teacher",isLogin:!0},a}return Object(s.a)(n,[{key:"componentWillMount",value:function(){var e=[];e.push(l.a.createElement(Q,{parentContext:this,appContext:this.props.appContext,key:"LoginScreen"}));this.setState({loginscreen:e,loginmessage:"Not registered yet, Register Now"})}},{key:"handleClick",value:function(e,t){var n,a=this;if(console.log("event",t),this.state.isLogin){var r=[];r.push(l.a.createElement($,{parentContext:this,appContext:this.props.appContext,role:t})),n="Already registered.Go to Login";var o=[];o.push(l.a.createElement("div",{key:"login-button"},l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement(d.a,{label:"Login",primary:!0,style:ee,onClick:function(e){return a.handleClick(e,t)}}))))),this.setState({loginscreen:r,loginmessage:n,loginButtons:o,isLogin:!1})}else{var i=[],s=[];s.push(l.a.createElement("div",null,l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement(d.a,{label:"Register as Student",primary:!0,style:ee,onClick:function(e){return a.handleClick(e,"student")}}))),l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement(d.a,{label:"Register as Teacher",primary:!0,style:ee,onClick:function(e){return a.handleClick(e,"teacher")}}))))),i.push(l.a.createElement(Q,{parentContext:this,appContext:this.props.appContext,role:t})),n="Not Registered yet.Go to registration",this.setState({loginscreen:i,loginmessage:n,loginButtons:s,isLogin:!0})}}},{key:"render",value:function(){return l.a.createElement("div",{className:"loginscreen",key:"loginscreen"},this.state.loginscreen,l.a.createElement("div",null,this.state.loginmessage,this.state.loginButtons))}}]),n}(a.Component),ne=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={loginPage:[],uploadScreen:[]},a}return Object(s.a)(n,[{key:"componentWillMount",value:function(){var e=[];e.push(l.a.createElement(te,{appContext:this,key:"login-screen"})),this.setState({loginPage:e})}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},this.state.loginPage,this.state.uploadScreen)}}]),n}(a.Component);n(307);o.a.render(l.a.createElement(ne,null),document.getElementById("root"))},55:function(e,t,n){}},[[130,1,2]]]);
//# sourceMappingURL=main.e8f8d8d0.chunk.js.map